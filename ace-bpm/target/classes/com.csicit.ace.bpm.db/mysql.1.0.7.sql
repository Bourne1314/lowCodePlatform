CREATE TABLE `wfd_delegate_rule` (
  `ID` VARCHAR(50) NOT NULL COMMENT '主键',
  `APP_ID` VARCHAR(50) NOT NULL COMMENT '应用ID',
  `DELEGATE_USER_ID` VARCHAR(50) NOT NULL COMMENT '委托人主键',
  `PROCESS_NAME` VARCHAR(50) NULL COMMENT '工作名称',
  `USED_FLAG` INT NOT NULL COMMENT '是否启用，0否，1是',
  `START_DATE` DATETIME NULL COMMENT '有效期起始',
  `END_DATE` DATETIME NULL COMMENT '有效期截止',
  `CREATE_TIME` DATETIME NULL COMMENT '创建时间',
  `PROCESS_ID` VARCHAR(50) NULL COMMENT '工作主键',
  PRIMARY KEY (`ID`))
COMMENT = '委托规则';

CREATE TABLE `wfd_delegate_user` (
  `ID` VARCHAR(50) NOT NULL COMMENT '主键',
  `RULE_ID` VARCHAR(50) NOT NULL COMMENT '委托规则主键',
  `USER_ID` VARCHAR(50) NOT NULL COMMENT '被委托人主键',
  `REAL_NAME` VARCHAR(50) NOT NULL COMMENT '被委托人姓名',
  `CREATE_TIME` DATETIME NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`ID`))
COMMENT = '委托规则被委托人';

CREATE TABLE `wfd_delegate_work` (
  `ID` VARCHAR(50) NOT NULL COMMENT '主键',
  `APP_ID` VARCHAR(50) NULL COMMENT '应用ID',
  `USER_ID` VARCHAR(50) NULL COMMENT '委托人主键',
  `DELEGATE_USER_ID` VARCHAR(50) NULL COMMENT '被委托人主键',
  `TASK_ID` VARCHAR(50) NULL COMMENT '任务主键',
  `PROCESS_ID` VARCHAR(50) NULL COMMENT '流程实例主键',
  `CREATE_TIME` DATETIME NULL COMMENT '创建时间',
  `TASK_NAME` VARCHAR(50) NULL COMMENT '任务名称',
  `DELEGATE_REAL_NAME` VARCHAR(50) NULL COMMENT '被委托人姓名',
  PRIMARY KEY (`ID`))
COMMENT = '委托工作记录';

ALTER TABLE `wfd_delegate_user`
ADD INDEX `IDX_WFD_DELEGATE_USER_RULE_ID` (`RULE_ID` ASC);

ALTER TABLE `wfd_delegate_user`
ADD CONSTRAINT `FK_WFD_DELEGATE_USER_RULE_ID`
  FOREIGN KEY (`RULE_ID`)
  REFERENCES `wfd_delegate_rule` (`ID`)
  ON DELETE CASCADE
  ON UPDATE NO ACTION;